<div class="all-cards-page">
  <div id="all-cards-selector">
    <label>Workspace</label>
    <select class="workspace-select"
            [(ngModel)]="selectedWorkspace"
            (ngModelChange)="loadCards()">
      <option *ngFor="let workspace of workspaces" [ngValue]="workspace">
        {{ workspace.displayName }}
      </option>
    </select>
  </div>

  <div class="ticket-header">
    <h2 class="tickets-title">Tickets {{ tickets.length }}</h2>
    <button class="new-tickets-btn" (click)="openCreateModal()">
      New ticket
    </button>
  </div>

  <div class="tickets-container">
    <table class="tickets-table">
      <thead>
      <tr>
        <th>Resume</th>
        <th>ID</th>
        <th>Manager</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let ticket of tickets">
        <td>
          <app-card
            [titre]="ticket.titre"
            [statusCard]="ticket.statusCard"
            [ticketId]="ticket.ticketId"
            [manager]="ticket.manager"
            (cardClick)="openModal(ticket)"
          ></app-card>
        </td>
        <td>{{ ticket.ticketId }}</td>
        <td>{{ ticket.manager }}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <app-modal-create
    *ngIf="isCreateMode"
    (close)="closeCreateModal()"
  ></app-modal-create>
</div>
