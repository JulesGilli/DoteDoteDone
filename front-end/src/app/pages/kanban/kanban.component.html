<div id="kanban-selectors">
  <div *ngIf="_dataService.loading()"><app-loading /></div>
  <div class="selectors">
    <label>Workspace</label>
    <div class="selector">
      <select class="workspace-select" [ngModel]="_dataService.selectedWorkspace()"
        (ngModelChange)="_getDataService.setWorkspace($event)">
        @for (workspace of _dataService.workspaces(); track workspace) {
        <option [ngValue]="workspace">
          {{ workspace.displayName }}
        </option>
        }
      </select>
      <button>+</button>
    </div>
  </div>

  <div class="selectors">
    <label>Board</label>
    <div class="selector">
      <select class="board-select" [ngModel]="_dataService.selectedBoard()"
        (ngModelChange)="_getDataService.setBoard($event)">
        @for (board of _dataService.boards(); track board) {
        <option [ngValue]="board">
          {{ board.name }}
        </option>
        }
      </select>
      <button>+</button>
    </div>
  </div>
</div>

<div *ngIf="!_dataService.loading()" id="kanban-lists" cdkDropListGroup #kanbanContainer>
  <app-list *ngFor="let list of _getDataService.getAllListsInArray()" [list]="list"
    (cardDragMoved)="onDragMoved($event)" (moveListEvent)="onMoveList($event)" (deleteListEvent)="onDeleteList($event)">
  </app-list>
</div>